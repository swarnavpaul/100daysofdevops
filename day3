Last login: Sun Jan  8 13:49:20 on ttys000

The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
swarnavs-MacBook-Air:~ swarnavpaul$ local
-bash: local: can only be used in a function
swarnavs-MacBook-Air:~ swarnavpaul$ bash
bash-5.2$ cd ~/devops/provision/vagrant/ubuntu
bash-5.2$ pwd
/Users/swarnavpaul/devops/provision/vagrant/ubuntu
bash-5.2$ ls
Vagrantfile
ubuntu-xenial-16.04-cloudimg-console.log
bash-5.2$ code vagrantfile
bash-5.2$ vagrant box list 
centos/7           (virtualbox, 2004.01)
generic/ubuntu1804 (virtualbox, 4.2.8)
ubuntu/xenial64    (virtualbox, 20211001.0.0)
bash-5.2$ vagrant box add generic/ubuntu1804
==> box: Loading metadata for box 'generic/ubuntu1804'
    box: URL: https://vagrantcloud.com/generic/ubuntu1804
This box can work with multiple providers! The providers that it
can work with are listed below. Please review the list and choose
the provider you will be working with.

1) hyperv
2) libvirt
3) parallels
4) virtualbox
5) vmware_desktop

Enter your choice: 4
==> box: Adding box 'generic/ubuntu1804' (v4.2.8) for provider: virtualbox
The box you're attempting to add already exists. Remove it before
adding it again or add it with the `--force` flag.

Name: generic/ubuntu1804
Provider: virtualbox
Version: 4.2.8
bash-5.2$ clear

bash-5.2$ cd ~/devops/provision/kubernetes/
bash-5.2$ ls
bash-5.2$ touch Vagrantfile
bash-5.2$ touch install-ubuntu.sh
bash-5.2$ ls
Vagrantfile		install-ubuntu.sh
bash-5.2$ code Vagrantfile
bash-5.2$ code install-ubuntu.sh 
bash-5.2$ vagrant plugin install vagrant-hostmanager
Installing the 'vagrant-hostmanager' plugin. This can take a few minutes...
Fetching vagrant-hostmanager-1.8.9.gem
Installed the plugin 'vagrant-hostmanager (1.8.9)'!
bash-5.2$ vagrant plugin list
vagrant-hostmanager (1.8.9, global)
bash-5.2$ vagrant up
Bringing machine 'master' up with 'virtualbox' provider...
Bringing machine 'node1' up with 'virtualbox' provider...
Bringing machine 'node2' up with 'virtualbox' provider...
Bringing machine 'node3' up with 'virtualbox' provider...
==> master: Importing base box 'ubuntu/xenial64'...
==> master: Matching MAC address for NAT networking...
==> master: Setting the name of the VM: kubernetes_master_1673167118336_23599
==> master: Fixed port collision for 22 => 2222. Now on port 2200.
==> master: Clearing any previously set network interfaces...
==> master: Preparing network interfaces based on configuration...
    master: Adapter 1: nat
    master: Adapter 2: hostonly
==> master: Forwarding ports...
    master: 22 (guest) => 2200 (host) (adapter 1)
==> master: Running 'pre-boot' VM customizations...
==> master: Booting VM...
==> master: Waiting for machine to boot. This may take a few minutes...
    master: SSH address: 127.0.0.1:2200
    master: SSH username: vagrant
    master: SSH auth method: private key
    master: 
    master: Vagrant insecure key detected. Vagrant will automatically replace
    master: this with a newly generated keypair for better security.
    master: 
    master: Inserting generated public key within guest...
    master: Removing insecure key from the guest if it's present...
    master: Key inserted! Disconnecting and reconnecting using new SSH key...
==> master: Machine booted and ready!
==> master: Checking for guest additions in VM...
    master: The guest additions on this VM do not match the installed version of
    master: VirtualBox! In most cases this is fine, but in rare cases it can
    master: prevent things such as shared folders from working properly. If you see
    master: shared folder errors, please make sure the guest additions within the
    master: virtual machine match the version of VirtualBox you have installed on
    master: your host and reload your VM.
    master: 
    master: Guest Additions Version: 5.1.38
    master: VirtualBox Version: 7.0
==> master: Setting hostname...
==> master: Configuring and enabling network interfaces...
==> master: Mounting shared folders...
    master: /vagrant => /Users/swarnavpaul/devops/provision/kubernetes
==> master: [vagrant-hostmanager:guests] Updating hosts file on active guest virtual machines...
==> master: Running provisioner: shell...
    master: Running: /var/folders/t6/730x0y6d49g1v1kzxc6yzxnw0000gn/T/vagrant-shell20230108-1965-z78dt8.sh
    master:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
    master:                                  Dload  Upload   Total   Spent    Left  Speed
100  2426  100  2426    0     0    642      0  0:00:03  0:00:03 --:--:--   642
    master: OK
    master: Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease
    master: Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]
    master: Get:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]
    master: Get:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]
    master: Get:6 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages [7,532 kB]
    master: Get:7 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security InRelease [7,524 B]
    master: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9,383 B]
    master: Get:8 https://esm.ubuntu.com/infra/ubuntu xenial-infra-updates InRelease [7,475 B]
    master: Get:9 http://security.ubuntu.com/ubuntu xenial-security/main Translation-en [360 kB]
    master: Get:10 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security/main amd64 Packages [646 kB]
    master: Get:11 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]
    master: Get:12 http://archive.ubuntu.com/ubuntu xenial/universe Translation-en [4,354 kB]
    master: Get:13 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [785 kB]
    master: Get:14 http://archive.ubuntu.com/ubuntu xenial/multiverse amd64 Packages [144 kB]
    master: Get:15 http://archive.ubuntu.com/ubuntu xenial/multiverse Translation-en [106 kB]
    master: Get:16 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2,049 kB]
    master: Get:17 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]
    master: Get:18 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [225 kB]
    master: Get:19 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1,220 kB]
    master: Get:20 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [7,864 B]
    master: Get:21 http://security.ubuntu.com/ubuntu xenial-security/multiverse Translation-en [2,672 B]
    master: Get:22 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]
    master: Get:23 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages [22.6 kB]
    master: Get:24 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse Translation-en [8,476 B]
    master: Get:25 http://archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [9,812 B]
    master: Get:26 http://archive.ubuntu.com/ubuntu xenial-backports/main Translation-en [4,456 B]
    master: Get:27 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [11.3 kB]
    master: Get:28 http://archive.ubuntu.com/ubuntu xenial-backports/universe Translation-en [4,476 B]
    master: Fetched 18.7 MB in 7s (2,400 kB/s)
    master: Reading package lists...
    master: Reading package lists...
    master: Building dependency tree...
    master: Reading state information...
    master: The following additional packages will be installed:
    master:   bridge-utils cgroupfs-mount conntrack containerd cri-tools ebtables pigz
    master:   runc socat ubuntu-fan
    master: Suggested packages:
    master:   mountall aufs-tools debootstrap docker-doc rinse zfs-fuse | zfsutils
    master: The following NEW packages will be installed:
    master:   bridge-utils cgroupfs-mount conntrack containerd cri-tools docker.io
    master:   ebtables kubeadm kubectl kubelet kubernetes-cni pigz runc socat ubuntu-fan
    master: 0 upgraded, 15 newly installed, 0 to remove and 1 not upgraded.
    master: Need to get 135 MB of archives.
    master: After this operation, 590 MB of additional disk space will be used.
    master: Get:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 pigz amd64 2.3.1-2 [61.1 kB]
    master: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 cri-tools amd64 1.25.0-00 [17.9 MB]
    master: Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 bridge-utils amd64 1.5-9ubuntu1 [28.6 kB]
    master: Get:8 http://archive.ubuntu.com/ubuntu xenial/universe amd64 cgroupfs-mount all 1.2 [4,970 B]
    master: Get:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 conntrack amd64 1:1.4.3-3 [27.3 kB]
    master: Get:10 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 runc amd64 1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4 [1,890 kB]
    master: Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 containerd amd64 1.2.6-0ubuntu1~16.04.6+esm1 [19.8 MB]
    master: Get:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 docker.io amd64 18.09.7-0ubuntu1~16.04.7 [30.5 MB]
    master: Get:3 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubernetes-cni amd64 1.1.1-00 [25.0 MB]
    master: Get:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ebtables amd64 2.0.10.4-3.4ubuntu2.16.04.2 [79.9 kB]
    master: Get:14 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]
    master: Get:15 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ubuntu-fan all 0.12.8~16.04.3 [35.1 kB]
    master: Get:4 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubelet amd64 1.25.5-00 [19.5 MB]
    master: Get:5 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]
    master: Get:6 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubeadm amd64 1.26.0-00 [9,730 kB]
    master: dpkg-preconfigure: unable to re-open stdin: No such file or directory
    master: Fetched 135 MB in 32s (4,093 kB/s)
    master: Selecting previously unselected package pigz.
(Reading database ... 54424 files and directories currently installed.)
    master: Preparing to unpack .../pigz_2.3.1-2_amd64.deb ...
    master: Unpacking pigz (2.3.1-2) ...
    master: Selecting previously unselected package bridge-utils.
    master: Preparing to unpack .../bridge-utils_1.5-9ubuntu1_amd64.deb ...
    master: Unpacking bridge-utils (1.5-9ubuntu1) ...
    master: Selecting previously unselected package cgroupfs-mount.
    master: Preparing to unpack .../cgroupfs-mount_1.2_all.deb ...
    master: Unpacking cgroupfs-mount (1.2) ...
    master: Selecting previously unselected package conntrack.
    master: Preparing to unpack .../conntrack_1%3a1.4.3-3_amd64.deb ...
    master: Unpacking conntrack (1:1.4.3-3) ...
    master: Selecting previously unselected package runc.
    master: Preparing to unpack .../runc_1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4_amd64.deb ...
    master: Unpacking runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    master: Selecting previously unselected package containerd.
    master: Preparing to unpack .../containerd_1.2.6-0ubuntu1~16.04.6+esm1_amd64.deb ...
    master: Unpacking containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    master: Selecting previously unselected package cri-tools.
    master: Preparing to unpack .../cri-tools_1.25.0-00_amd64.deb ...
    master: Unpacking cri-tools (1.25.0-00) ...
    master: Selecting previously unselected package docker.io.
    master: Preparing to unpack .../docker.io_18.09.7-0ubuntu1~16.04.7_amd64.deb ...
    master: Unpacking docker.io (18.09.7-0ubuntu1~16.04.7) ...
    master: Selecting previously unselected package ebtables.
    master: Preparing to unpack .../ebtables_2.0.10.4-3.4ubuntu2.16.04.2_amd64.deb ...
    master: Unpacking ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    master: Selecting previously unselected package kubernetes-cni.
    master: Preparing to unpack .../kubernetes-cni_1.1.1-00_amd64.deb ...
    master: Unpacking kubernetes-cni (1.1.1-00) ...
    master: Selecting previously unselected package socat.
    master: Preparing to unpack .../socat_1.7.3.1-1_amd64.deb ...
    master: Unpacking socat (1.7.3.1-1) ...
    master: Selecting previously unselected package kubelet.
    master: Preparing to unpack .../kubelet_1.25.5-00_amd64.deb ...
    master: Unpacking kubelet (1.25.5-00) ...
    master: Selecting previously unselected package kubectl.
    master: Preparing to unpack .../kubectl_1.26.0-00_amd64.deb ...
    master: Unpacking kubectl (1.26.0-00) ...
    master: Selecting previously unselected package kubeadm.
    master: Preparing to unpack .../kubeadm_1.26.0-00_amd64.deb ...
    master: Unpacking kubeadm (1.26.0-00) ...
    master: Selecting previously unselected package ubuntu-fan.
    master: Preparing to unpack .../ubuntu-fan_0.12.8~16.04.3_all.deb ...
    master: Unpacking ubuntu-fan (0.12.8~16.04.3) ...
    master: Processing triggers for man-db (2.7.5-1) ...
    master: Processing triggers for ureadahead (0.100.0-19.1) ...
    master: Processing triggers for systemd (229-4ubuntu21.31) ...
    master: Setting up pigz (2.3.1-2) ...
    master: Setting up bridge-utils (1.5-9ubuntu1) ...
    master: Setting up cgroupfs-mount (1.2) ...
    master: Setting up conntrack (1:1.4.3-3) ...
    master: Setting up runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    master: Setting up containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    master: Setting up cri-tools (1.25.0-00) ...
    master: Setting up docker.io (18.09.7-0ubuntu1~16.04.7) ...
    master: Adding group `docker' (GID 117) ...
    master: Done.
    master: Setting up ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    master: update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
    master: Setting up kubernetes-cni (1.1.1-00) ...
    master: Setting up socat (1.7.3.1-1) ...
    master: Setting up kubelet (1.25.5-00) ...
    master: Setting up kubectl (1.26.0-00) ...
    master: Setting up kubeadm (1.26.0-00) ...
    master: Setting up ubuntu-fan (0.12.8~16.04.3) ...
    master: Processing triggers for ureadahead (0.100.0-19.1) ...
    master: Processing triggers for systemd (229-4ubuntu21.31) ...
    master: Synchronizing state of docker.service with SysV init with /lib/systemd/systemd-sysv-install...
    master: Executing /lib/systemd/systemd-sysv-install enable docker
    master: WARNING: No swap limit support
==> master: Running provisioner: shell...
    master: Running: inline script
    master: W0108 08:40:54.085577    5226 preflight.go:56] [reset] WARNING: Changes made to this host by 'kubeadm init' or 'kubeadm join' will be reverted.
    master: error execution phase preflight: won't proceed; the user didn't answer (Y|y) in order to continue
    master: To see the stack trace of this error execute with --v=5 or higher
    master: [reset] Are you sure you want to proceed? [y/N]: [init] Using Kubernetes version: v1.26.0
    master: [preflight] Running pre-flight checks
    master: [preflight] Pulling images required for setting up a Kubernetes cluster
    master: [preflight] This might take a minute or two, depending on the speed of your internet connection
    master: [preflight] You can also perform this action in beforehand using 'kubeadm config images pull'
    master: [certs] Using certificateDir folder "/etc/kubernetes/pki"
    master: [certs] Generating "ca" certificate and key
    master: [certs] Generating "apiserver" certificate and key
    master: [certs] apiserver serving cert is signed for DNS names [kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local master] and IPs [10.96.0.1 192.168.56.10]
    master: [certs] Generating "apiserver-kubelet-client" certificate and key
    master: [certs] Generating "front-proxy-ca" certificate and key
    master: [certs] Generating "front-proxy-client" certificate and key
    master: [certs] Generating "etcd/ca" certificate and key
    master: [certs] Generating "etcd/server" certificate and key
    master: [certs] etcd/server serving cert is signed for DNS names [localhost master] and IPs [192.168.56.10 127.0.0.1 ::1]
    master: [certs] Generating "etcd/peer" certificate and key
    master: [certs] etcd/peer serving cert is signed for DNS names [localhost master] and IPs [192.168.56.10 127.0.0.1 ::1]
    master: [certs] Generating "etcd/healthcheck-client" certificate and key
    master: [certs] Generating "apiserver-etcd-client" certificate and key
    master: [certs] Generating "sa" key and public key
    master: [kubeconfig] Using kubeconfig folder "/etc/kubernetes"
    master: [kubeconfig] Writing "admin.conf" kubeconfig file
    master: [kubeconfig] Writing "kubelet.conf" kubeconfig file
    master: [kubeconfig] Writing "controller-manager.conf" kubeconfig file
    master: [kubeconfig] Writing "scheduler.conf" kubeconfig file
    master: [kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
    master: [kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
    master: [kubelet-start] Starting the kubelet
    master: [control-plane] Using manifest folder "/etc/kubernetes/manifests"
    master: [control-plane] Creating static Pod manifest for "kube-apiserver"
    master: [control-plane] Creating static Pod manifest for "kube-controller-manager"
    master: [control-plane] Creating static Pod manifest for "kube-scheduler"
    master: [etcd] Creating static Pod manifest for local etcd in "/etc/kubernetes/manifests"
    master: [wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory "/etc/kubernetes/manifests". This can take up to 4m0s
    master: [apiclient] All control plane components are healthy after 18.005072 seconds
    master: [upload-config] Storing the configuration used in ConfigMap "kubeadm-config" in the "kube-system" Namespace
    master: [kubelet] Creating a ConfigMap "kubelet-config" in namespace kube-system with the configuration for the kubelets in the cluster
    master: [upload-certs] Skipping phase. Please see --upload-certs
    master: [mark-control-plane] Marking the node master as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]
    master: [mark-control-plane] Marking the node master as control-plane by adding the taints [node-role.kubernetes.io/control-plane:NoSchedule]
    master: [bootstrap-token] Using token: b029ee.968a33e8d8e6bb0d
    master: [bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles
    master: [bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes
    master: [bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials
    master: [bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token
    master: [bootstrap-token] Configured RBAC rules to allow certificate rotation for all node client certificates in the cluster
    master: [bootstrap-token] Creating the "cluster-info" ConfigMap in the "kube-public" namespace
    master: [kubelet-finalize] Updating "/etc/kubernetes/kubelet.conf" to point to a rotatable kubelet client certificate and key
    master: [addons] Applied essential addon: CoreDNS
    master: [addons] Applied essential addon: kube-proxy
    master: 
    master: Your Kubernetes control-plane has initialized successfully!
    master: 
    master: To start using your cluster, you need to run the following as a regular user:
    master: 
    master:   mkdir -p $HOME/.kube
    master:   sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
    master:   sudo chown $(id -u):$(id -g) $HOME/.kube/config
    master: 
    master: Alternatively, if you are the root user, you can run:
    master: 
    master:   export KUBECONFIG=/etc/kubernetes/admin.conf
    master: 
    master: You should now deploy a pod network to the cluster.
    master: Run "kubectl apply -f [podnetwork].yaml" with one of the options listed at:
    master:   https://kubernetes.io/docs/concepts/cluster-administration/addons/
    master: 
    master: Then you can join any number of worker nodes by running the following on each as root:
    master: 
    master: kubeadm join 192.168.56.10:6443 --token b029ee.968a33e8d8e6bb0d \
    master: 	--discovery-token-ca-cert-hash sha256:4f46a4d17242ebc373c6e9c18a8d5f56b265184250760a9cdde4d7efcbc5ffb9
    master: serviceaccount/weave-net created
    master: clusterrole.rbac.authorization.k8s.io/weave-net created
    master: clusterrolebinding.rbac.authorization.k8s.io/weave-net created
    master: role.rbac.authorization.k8s.io/weave-net created
    master: rolebinding.rbac.authorization.k8s.io/weave-net created
    master: daemonset.apps/weave-net created
==> node1: Importing base box 'ubuntu/xenial64'...
==> node1: Matching MAC address for NAT networking...
==> node1: Setting the name of the VM: kubernetes_node1_1673167369245_61525
==> node1: Fixed port collision for 22 => 2222. Now on port 2201.
==> node1: Clearing any previously set network interfaces...
==> node1: Preparing network interfaces based on configuration...
    node1: Adapter 1: nat
    node1: Adapter 2: hostonly
==> node1: Forwarding ports...
    node1: 22 (guest) => 2201 (host) (adapter 1)
==> node1: Running 'pre-boot' VM customizations...
==> node1: Booting VM...
==> node1: Waiting for machine to boot. This may take a few minutes...
    node1: SSH address: 127.0.0.1:2201
    node1: SSH username: vagrant
    node1: SSH auth method: private key
    node1: 
    node1: Vagrant insecure key detected. Vagrant will automatically replace
    node1: this with a newly generated keypair for better security.
    node1: 
    node1: Inserting generated public key within guest...
    node1: Removing insecure key from the guest if it's present...
    node1: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node1: Machine booted and ready!
==> node1: Checking for guest additions in VM...
    node1: The guest additions on this VM do not match the installed version of
    node1: VirtualBox! In most cases this is fine, but in rare cases it can
    node1: prevent things such as shared folders from working properly. If you see
    node1: shared folder errors, please make sure the guest additions within the
    node1: virtual machine match the version of VirtualBox you have installed on
    node1: your host and reload your VM.
    node1: 
    node1: Guest Additions Version: 5.1.38
    node1: VirtualBox Version: 7.0
==> node1: Setting hostname...
==> node1: Configuring and enabling network interfaces...
==> node1: Mounting shared folders...
    node1: /vagrant => /Users/swarnavpaul/devops/provision/kubernetes
==> node1: [vagrant-hostmanager:guests] Updating hosts file on active guest virtual machines...
==> node1: Running provisioner: shell...
    node1: Running: /var/folders/t6/730x0y6d49g1v1kzxc6yzxnw0000gn/T/vagrant-shell20230108-1965-1wuejfc.sh
    node1:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
    node1:                                  Dload  Upload   Total   Spent    Left  Speed
100  2426  100  2426    0     0   7438      0 --:--:-- --:--:-- --:--:--  7418
    node1: OK
    node1: Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease
    node1: Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]
    node1: Get:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]
    node1: Get:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]
    node1: Get:6 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security InRelease [7,524 B]
    node1: Get:7 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages [7,532 kB]
    node1: Get:8 https://esm.ubuntu.com/infra/ubuntu xenial-infra-updates InRelease [7,475 B]
    node1: Get:9 http://security.ubuntu.com/ubuntu xenial-security/main Translation-en [360 kB]
    node1: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9,383 B]
    node1: Get:10 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security/main amd64 Packages [646 kB]
    node1: Get:12 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [785 kB]
    node1: Get:11 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]
    node1: Get:13 http://archive.ubuntu.com/ubuntu xenial/universe Translation-en [4,354 kB]
    node1: Get:14 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [225 kB]
    node1: Get:15 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [7,864 B]
    node1: Get:16 http://security.ubuntu.com/ubuntu xenial-security/multiverse Translation-en [2,672 B]
    node1: Get:17 http://archive.ubuntu.com/ubuntu xenial/multiverse amd64 Packages [144 kB]
    node1: Get:18 http://archive.ubuntu.com/ubuntu xenial/multiverse Translation-en [106 kB]
    node1: Get:19 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2,049 kB]
    node1: Get:20 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]
    node1: Get:21 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1,220 kB]
    node1: Get:22 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]
    node1: Get:23 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages [22.6 kB]
    node1: Get:24 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse Translation-en [8,476 B]
    node1: Get:25 http://archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [9,812 B]
    node1: Get:26 http://archive.ubuntu.com/ubuntu xenial-backports/main Translation-en [4,456 B]
    node1: Get:27 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [11.3 kB]
    node1: Get:28 http://archive.ubuntu.com/ubuntu xenial-backports/universe Translation-en [4,476 B]
    node1: Fetched 18.7 MB in 7s (2,376 kB/s)
    node1: Reading package lists...
    node1: Reading package lists...
    node1: Building dependency tree...
    node1: Reading state information...
    node1: The following additional packages will be installed:
    node1:   bridge-utils cgroupfs-mount conntrack containerd cri-tools ebtables pigz
    node1:   runc socat ubuntu-fan
    node1: Suggested packages:
    node1:   mountall aufs-tools debootstrap docker-doc rinse zfs-fuse | zfsutils
    node1: The following NEW packages will be installed:
    node1:   bridge-utils cgroupfs-mount conntrack containerd cri-tools docker.io
    node1:   ebtables kubeadm kubectl kubelet kubernetes-cni pigz runc socat ubuntu-fan
    node1: 0 upgraded, 15 newly installed, 0 to remove and 1 not upgraded.
    node1: Need to get 135 MB of archives.
    node1: After this operation, 590 MB of additional disk space will be used.
    node1: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 cri-tools amd64 1.25.0-00 [17.9 MB]
    node1: Get:6 http://archive.ubuntu.com/ubuntu xenial/universe amd64 pigz amd64 2.3.1-2 [61.1 kB]
    node1: Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 bridge-utils amd64 1.5-9ubuntu1 [28.6 kB]
    node1: Get:8 http://archive.ubuntu.com/ubuntu xenial/universe amd64 cgroupfs-mount all 1.2 [4,970 B]
    node1: Get:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 conntrack amd64 1:1.4.3-3 [27.3 kB]
    node1: Get:2 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubernetes-cni amd64 1.1.1-00 [25.0 MB]
    node1: Get:10 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 runc amd64 1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4 [1,890 kB]
    node1: Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 containerd amd64 1.2.6-0ubuntu1~16.04.6+esm1 [19.8 MB]
    node1: Get:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 docker.io amd64 18.09.7-0ubuntu1~16.04.7 [30.5 MB]
    node1: Get:3 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubelet amd64 1.25.5-00 [19.5 MB]
    node1: Get:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ebtables amd64 2.0.10.4-3.4ubuntu2.16.04.2 [79.9 kB]
    node1: Get:14 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]
    node1: Get:15 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ubuntu-fan all 0.12.8~16.04.3 [35.1 kB]
    node1: Get:4 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]
    node1: Get:5 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubeadm amd64 1.26.0-00 [9,730 kB]
    node1: dpkg-preconfigure: unable to re-open stdin: No such file or directory
    node1: Fetched 135 MB in 23s (5,857 kB/s)
    node1: Selecting previously unselected package pigz.
(Reading database ... 54424 files and directories currently installed.)
    node1: Preparing to unpack .../pigz_2.3.1-2_amd64.deb ...
    node1: Unpacking pigz (2.3.1-2) ...
    node1: Selecting previously unselected package bridge-utils.
    node1: Preparing to unpack .../bridge-utils_1.5-9ubuntu1_amd64.deb ...
    node1: Unpacking bridge-utils (1.5-9ubuntu1) ...
    node1: Selecting previously unselected package cgroupfs-mount.
    node1: Preparing to unpack .../cgroupfs-mount_1.2_all.deb ...
    node1: Unpacking cgroupfs-mount (1.2) ...
    node1: Selecting previously unselected package conntrack.
    node1: Preparing to unpack .../conntrack_1%3a1.4.3-3_amd64.deb ...
    node1: Unpacking conntrack (1:1.4.3-3) ...
    node1: Selecting previously unselected package runc.
    node1: Preparing to unpack .../runc_1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4_amd64.deb ...
    node1: Unpacking runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node1: Selecting previously unselected package containerd.
    node1: Preparing to unpack .../containerd_1.2.6-0ubuntu1~16.04.6+esm1_amd64.deb ...
    node1: Unpacking containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node1: Selecting previously unselected package cri-tools.
    node1: Preparing to unpack .../cri-tools_1.25.0-00_amd64.deb ...
    node1: Unpacking cri-tools (1.25.0-00) ...
    node1: Selecting previously unselected package docker.io.
    node1: Preparing to unpack .../docker.io_18.09.7-0ubuntu1~16.04.7_amd64.deb ...
    node1: Unpacking docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node1: Selecting previously unselected package ebtables.
    node1: Preparing to unpack .../ebtables_2.0.10.4-3.4ubuntu2.16.04.2_amd64.deb ...
    node1: Unpacking ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node1: Selecting previously unselected package kubernetes-cni.
    node1: Preparing to unpack .../kubernetes-cni_1.1.1-00_amd64.deb ...
    node1: Unpacking kubernetes-cni (1.1.1-00) ...
    node1: Selecting previously unselected package socat.
    node1: Preparing to unpack .../socat_1.7.3.1-1_amd64.deb ...
    node1: Unpacking socat (1.7.3.1-1) ...
    node1: Selecting previously unselected package kubelet.
    node1: Preparing to unpack .../kubelet_1.25.5-00_amd64.deb ...
    node1: Unpacking kubelet (1.25.5-00) ...
    node1: Selecting previously unselected package kubectl.
    node1: Preparing to unpack .../kubectl_1.26.0-00_amd64.deb ...
    node1: Unpacking kubectl (1.26.0-00) ...
    node1: Selecting previously unselected package kubeadm.
    node1: Preparing to unpack .../kubeadm_1.26.0-00_amd64.deb ...
    node1: Unpacking kubeadm (1.26.0-00) ...
    node1: Selecting previously unselected package ubuntu-fan.
    node1: Preparing to unpack .../ubuntu-fan_0.12.8~16.04.3_all.deb ...
    node1: Unpacking ubuntu-fan (0.12.8~16.04.3) ...
    node1: Processing triggers for man-db (2.7.5-1) ...
    node1: Processing triggers for ureadahead (0.100.0-19.1) ...
    node1: Processing triggers for systemd (229-4ubuntu21.31) ...
    node1: Setting up pigz (2.3.1-2) ...
    node1: Setting up bridge-utils (1.5-9ubuntu1) ...
    node1: Setting up cgroupfs-mount (1.2) ...
    node1: Setting up conntrack (1:1.4.3-3) ...
    node1: Setting up runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node1: Setting up containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node1: Setting up cri-tools (1.25.0-00) ...
    node1: Setting up docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node1: Adding group `docker' (GID 117) ...
    node1: Done.
    node1: Setting up ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node1: update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
    node1: Setting up kubernetes-cni (1.1.1-00) ...
    node1: Setting up socat (1.7.3.1-1) ...
    node1: Setting up kubelet (1.25.5-00) ...
    node1: Setting up kubectl (1.26.0-00) ...
    node1: Setting up kubeadm (1.26.0-00) ...
    node1: Setting up ubuntu-fan (0.12.8~16.04.3) ...
    node1: Processing triggers for ureadahead (0.100.0-19.1) ...
    node1: Processing triggers for systemd (229-4ubuntu21.31) ...
    node1: Synchronizing state of docker.service with SysV init with /lib/systemd/systemd-sysv-install...
    node1: Executing /lib/systemd/systemd-sysv-install enable docker
    node1: WARNING: No swap limit support
==> node1: Running provisioner: shell...
    node1: Running: inline script
    node1: W0108 08:44:54.131599    5226 preflight.go:56] [reset] WARNING: Changes made to this host by 'kubeadm init' or 'kubeadm join' will be reverted.
    node1: error execution phase preflight: won't proceed; the user didn't answer (Y|y) in order to continue
    node1: To see the stack trace of this error execute with --v=5 or higher
    node1: [reset] Are you sure you want to proceed? [y/N]: [preflight] Running pre-flight checks
    node1: [preflight] Reading configuration from the cluster...
    node1: [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
    node1: [kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
    node1: [kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
    node1: [kubelet-start] Starting the kubelet
    node1: [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...
    node1: 
    node1: This node has joined the cluster:
    node1: * Certificate signing request was sent to apiserver and a response was received.
    node1: * The Kubelet was informed of the new secure connection details.
    node1: 
    node1: Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
    node1: 
==> node2: Importing base box 'ubuntu/xenial64'...
==> node2: Matching MAC address for NAT networking...
==> node2: Setting the name of the VM: kubernetes_node2_1673167514433_6064
==> node2: Fixed port collision for 22 => 2222. Now on port 2202.
==> node2: Clearing any previously set network interfaces...
==> node2: Preparing network interfaces based on configuration...
    node2: Adapter 1: nat
    node2: Adapter 2: hostonly
==> node2: Forwarding ports...
    node2: 22 (guest) => 2202 (host) (adapter 1)
==> node2: Running 'pre-boot' VM customizations...
==> node2: Booting VM...
==> node2: Waiting for machine to boot. This may take a few minutes...
    node2: SSH address: 127.0.0.1:2202
    node2: SSH username: vagrant
    node2: SSH auth method: private key
    node2: Warning: Connection reset. Retrying...
    node2: 
    node2: Vagrant insecure key detected. Vagrant will automatically replace
    node2: this with a newly generated keypair for better security.
    node2: 
    node2: Inserting generated public key within guest...
    node2: Removing insecure key from the guest if it's present...
    node2: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node2: Machine booted and ready!
==> node2: Checking for guest additions in VM...
    node2: The guest additions on this VM do not match the installed version of
    node2: VirtualBox! In most cases this is fine, but in rare cases it can
    node2: prevent things such as shared folders from working properly. If you see
    node2: shared folder errors, please make sure the guest additions within the
    node2: virtual machine match the version of VirtualBox you have installed on
    node2: your host and reload your VM.
    node2: 
    node2: Guest Additions Version: 5.1.38
    node2: VirtualBox Version: 7.0
==> node2: Setting hostname...
==> node2: Configuring and enabling network interfaces...
==> node2: Mounting shared folders...
    node2: /vagrant => /Users/swarnavpaul/devops/provision/kubernetes
==> node2: [vagrant-hostmanager:guests] Updating hosts file on active guest virtual machines...
==> node2: Running provisioner: shell...
    node2: Running: /var/folders/t6/730x0y6d49g1v1kzxc6yzxnw0000gn/T/vagrant-shell20230108-1965-i6qx3p.sh
    node2:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
    node2:                                  Dload  Upload   Total   Spent    Left  Speed
100  2426  100  2426    0     0   6976      0 --:--:-- --:--:-- --:--:--  6971
    node2: OK
    node2: Get:2 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]
    node2: Hit:3 http://archive.ubuntu.com/ubuntu xenial InRelease
    node2: Get:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]
    node2: Get:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]
    node2: Get:6 http://security.ubuntu.com/ubuntu xenial-security/main Translation-en [360 kB]
    node2: Get:7 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages [7,532 kB]
    node2: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9,383 B]
    node2: Get:8 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security InRelease [7,524 B]
    node2: Get:9 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [785 kB]
    node2: Get:10 https://esm.ubuntu.com/infra/ubuntu xenial-infra-updates InRelease [7,475 B]
    node2: Get:11 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [225 kB]
    node2: Get:12 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [7,864 B]
    node2: Get:13 http://security.ubuntu.com/ubuntu xenial-security/multiverse Translation-en [2,672 B]
    node2: Get:14 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]
    node2: Get:15 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security/main amd64 Packages [646 kB]
    node2: Get:16 http://archive.ubuntu.com/ubuntu xenial/universe Translation-en [4,354 kB]
    node2: Get:17 http://archive.ubuntu.com/ubuntu xenial/multiverse amd64 Packages [144 kB]
    node2: Get:18 http://archive.ubuntu.com/ubuntu xenial/multiverse Translation-en [106 kB]
    node2: Get:19 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2,049 kB]
    node2: Get:20 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]
    node2: Get:21 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1,220 kB]
    node2: Get:22 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]
    node2: Get:23 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages [22.6 kB]
    node2: Get:24 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse Translation-en [8,476 B]
    node2: Get:25 http://archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [9,812 B]
    node2: Get:26 http://archive.ubuntu.com/ubuntu xenial-backports/main Translation-en [4,456 B]
    node2: Get:27 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [11.3 kB]
    node2: Get:28 http://archive.ubuntu.com/ubuntu xenial-backports/universe Translation-en [4,476 B]
    node2: Fetched 18.7 MB in 10s (1,807 kB/s)
    node2: Reading package lists...
    node2: Reading package lists...
    node2: Building dependency tree...
    node2: Reading state information...
    node2: The following additional packages will be installed:
    node2:   bridge-utils cgroupfs-mount conntrack containerd cri-tools ebtables pigz
    node2:   runc socat ubuntu-fan
    node2: Suggested packages:
    node2:   mountall aufs-tools debootstrap docker-doc rinse zfs-fuse | zfsutils
    node2: The following NEW packages will be installed:
    node2:   bridge-utils cgroupfs-mount conntrack containerd cri-tools docker.io
    node2:   ebtables kubeadm kubectl kubelet kubernetes-cni pigz runc socat ubuntu-fan
    node2: 0 upgraded, 15 newly installed, 0 to remove and 1 not upgraded.
    node2: Need to get 135 MB of archives.
    node2: After this operation, 590 MB of additional disk space will be used.
    node2: Get:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 pigz amd64 2.3.1-2 [61.1 kB]
    node2: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 cri-tools amd64 1.25.0-00 [17.9 MB]
    node2: Get:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 bridge-utils amd64 1.5-9ubuntu1 [28.6 kB]
    node2: Get:6 http://archive.ubuntu.com/ubuntu xenial/universe amd64 cgroupfs-mount all 1.2 [4,970 B]
    node2: Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 conntrack amd64 1:1.4.3-3 [27.3 kB]
    node2: Get:8 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 runc amd64 1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4 [1,890 kB]
    node2: Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 containerd amd64 1.2.6-0ubuntu1~16.04.6+esm1 [19.8 MB]
    node2: Get:3 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubernetes-cni amd64 1.1.1-00 [25.0 MB]
    node2: Get:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 docker.io amd64 18.09.7-0ubuntu1~16.04.7 [30.5 MB]
    node2: Get:4 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubelet amd64 1.25.5-00 [19.5 MB]
    node2: Get:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ebtables amd64 2.0.10.4-3.4ubuntu2.16.04.2 [79.9 kB]
    node2: Get:14 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]
    node2: Get:15 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ubuntu-fan all 0.12.8~16.04.3 [35.1 kB]
    node2: Get:9 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]
    node2: Get:10 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubeadm amd64 1.26.0-00 [9,730 kB]
    node2: dpkg-preconfigure: unable to re-open stdin: No such file or directory
    node2: Fetched 135 MB in 15s (8,433 kB/s)
    node2: Selecting previously unselected package pigz.
(Reading database ... 54424 files and directories currently installed.)
    node2: Preparing to unpack .../pigz_2.3.1-2_amd64.deb ...
    node2: Unpacking pigz (2.3.1-2) ...
    node2: Selecting previously unselected package bridge-utils.
    node2: Preparing to unpack .../bridge-utils_1.5-9ubuntu1_amd64.deb ...
    node2: Unpacking bridge-utils (1.5-9ubuntu1) ...
    node2: Selecting previously unselected package cgroupfs-mount.
    node2: Preparing to unpack .../cgroupfs-mount_1.2_all.deb ...
    node2: Unpacking cgroupfs-mount (1.2) ...
    node2: Selecting previously unselected package conntrack.
    node2: Preparing to unpack .../conntrack_1%3a1.4.3-3_amd64.deb ...
    node2: Unpacking conntrack (1:1.4.3-3) ...
    node2: Selecting previously unselected package runc.
    node2: Preparing to unpack .../runc_1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4_amd64.deb ...
    node2: Unpacking runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node2: Selecting previously unselected package containerd.
    node2: Preparing to unpack .../containerd_1.2.6-0ubuntu1~16.04.6+esm1_amd64.deb ...
    node2: Unpacking containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node2: Selecting previously unselected package cri-tools.
    node2: Preparing to unpack .../cri-tools_1.25.0-00_amd64.deb ...
    node2: Unpacking cri-tools (1.25.0-00) ...
    node2: Selecting previously unselected package docker.io.
    node2: Preparing to unpack .../docker.io_18.09.7-0ubuntu1~16.04.7_amd64.deb ...
    node2: Unpacking docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node2: Selecting previously unselected package ebtables.
    node2: Preparing to unpack .../ebtables_2.0.10.4-3.4ubuntu2.16.04.2_amd64.deb ...
    node2: Unpacking ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node2: Selecting previously unselected package kubernetes-cni.
    node2: Preparing to unpack .../kubernetes-cni_1.1.1-00_amd64.deb ...
    node2: Unpacking kubernetes-cni (1.1.1-00) ...
    node2: Selecting previously unselected package socat.
    node2: Preparing to unpack .../socat_1.7.3.1-1_amd64.deb ...
    node2: Unpacking socat (1.7.3.1-1) ...
    node2: Selecting previously unselected package kubelet.
    node2: Preparing to unpack .../kubelet_1.25.5-00_amd64.deb ...
    node2: Unpacking kubelet (1.25.5-00) ...
    node2: Selecting previously unselected package kubectl.
    node2: Preparing to unpack .../kubectl_1.26.0-00_amd64.deb ...
    node2: Unpacking kubectl (1.26.0-00) ...
    node2: Selecting previously unselected package kubeadm.
    node2: Preparing to unpack .../kubeadm_1.26.0-00_amd64.deb ...
    node2: Unpacking kubeadm (1.26.0-00) ...
    node2: Selecting previously unselected package ubuntu-fan.
    node2: Preparing to unpack .../ubuntu-fan_0.12.8~16.04.3_all.deb ...
    node2: Unpacking ubuntu-fan (0.12.8~16.04.3) ...
    node2: Processing triggers for man-db (2.7.5-1) ...
    node2: Processing triggers for ureadahead (0.100.0-19.1) ...
    node2: Processing triggers for systemd (229-4ubuntu21.31) ...
    node2: Setting up pigz (2.3.1-2) ...
    node2: Setting up bridge-utils (1.5-9ubuntu1) ...
    node2: Setting up cgroupfs-mount (1.2) ...
    node2: Setting up conntrack (1:1.4.3-3) ...
    node2: Setting up runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node2: Setting up containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node2: Setting up cri-tools (1.25.0-00) ...
    node2: Setting up docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node2: Adding group `docker' (GID 117) ...
    node2: Done.
    node2: Setting up ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node2: update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
    node2: Setting up kubernetes-cni (1.1.1-00) ...
    node2: Setting up socat (1.7.3.1-1) ...
    node2: Setting up kubelet (1.25.5-00) ...
    node2: Setting up kubectl (1.26.0-00) ...
    node2: Setting up kubeadm (1.26.0-00) ...
    node2: Setting up ubuntu-fan (0.12.8~16.04.3) ...
    node2: Processing triggers for ureadahead (0.100.0-19.1) ...
    node2: Processing triggers for systemd (229-4ubuntu21.31) ...
    node2: Synchronizing state of docker.service with SysV init with /lib/systemd/systemd-sysv-install...
    node2: Executing /lib/systemd/systemd-sysv-install enable docker
    node2: WARNING: No swap limit support
==> node2: Running provisioner: shell...
    node2: Running: inline script
    node2: W0108 08:47:27.741090    5269 preflight.go:56] [reset] WARNING: Changes made to this host by 'kubeadm init' or 'kubeadm join' will be reverted.
    node2: error execution phase preflight: won't proceed; the user didn't answer (Y|y) in order to continue
    node2: To see the stack trace of this error execute with --v=5 or higher
    node2: [reset] Are you sure you want to proceed? [y/N]: [preflight] Running pre-flight checks
    node2: [preflight] Reading configuration from the cluster...
    node2: [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
    node2: [kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
    node2: [kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
    node2: [kubelet-start] Starting the kubelet
    node2: [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...
    node2: 
    node2: This node has joined the cluster:
    node2: * Certificate signing request was sent to apiserver and a response was received.
    node2: * The Kubelet was informed of the new secure connection details.
    node2: 
    node2: Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
    node2: 
==> node3: Importing base box 'ubuntu/xenial64'...
==> node3: Matching MAC address for NAT networking...
==> node3: Setting the name of the VM: kubernetes_node3_1673167679909_63363
==> node3: Fixed port collision for 22 => 2222. Now on port 2203.
==> node3: Clearing any previously set network interfaces...
==> node3: Preparing network interfaces based on configuration...
    node3: Adapter 1: nat
    node3: Adapter 2: hostonly
==> node3: Forwarding ports...
    node3: 22 (guest) => 2203 (host) (adapter 1)
==> node3: Running 'pre-boot' VM customizations...
==> node3: Booting VM...
==> node3: Waiting for machine to boot. This may take a few minutes...
    node3: SSH address: 127.0.0.1:2203
    node3: SSH username: vagrant
    node3: SSH auth method: private key
    node3: Warning: Connection reset. Retrying...
    node3: 
    node3: Vagrant insecure key detected. Vagrant will automatically replace
    node3: this with a newly generated keypair for better security.
    node3: 
    node3: Inserting generated public key within guest...
    node3: Removing insecure key from the guest if it's present...
    node3: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node3: Machine booted and ready!
==> node3: Checking for guest additions in VM...
    node3: The guest additions on this VM do not match the installed version of
    node3: VirtualBox! In most cases this is fine, but in rare cases it can
    node3: prevent things such as shared folders from working properly. If you see
    node3: shared folder errors, please make sure the guest additions within the
    node3: virtual machine match the version of VirtualBox you have installed on
    node3: your host and reload your VM.
    node3: 
    node3: Guest Additions Version: 5.1.38
    node3: VirtualBox Version: 7.0
==> node3: Setting hostname...
==> node3: Configuring and enabling network interfaces...
==> node3: Mounting shared folders...
    node3: /vagrant => /Users/swarnavpaul/devops/provision/kubernetes
==> node3: [vagrant-hostmanager:guests] Updating hosts file on active guest virtual machines...
==> node3: Running provisioner: shell...
    node3: Running: /var/folders/t6/730x0y6d49g1v1kzxc6yzxnw0000gn/T/vagrant-shell20230108-1965-1vn6k54.sh
    node3:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
    node3:                                  Dload  Upload   Total   Spent    Left  Speed
100  2426  100  2426    0     0   5608      0 --:--:-- --:--:-- --:--:--  5602
    node3: OK
    node3: Get:2 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]
    node3: Hit:3 http://archive.ubuntu.com/ubuntu xenial InRelease
    node3: Get:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]
    node3: Get:5 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security InRelease [7,524 B]
    node3: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9,383 B]
    node3: Get:6 https://esm.ubuntu.com/infra/ubuntu xenial-infra-updates InRelease [7,475 B]
    node3: Get:7 https://esm.ubuntu.com/infra/ubuntu xenial-infra-security/main amd64 Packages [646 kB]
    node3: Get:9 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]
    node3: Get:8 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]
    node3: Get:10 http://security.ubuntu.com/ubuntu xenial-security/main Translation-en [360 kB]
    node3: Get:11 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages [7,532 kB]
    node3: Get:12 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [785 kB]
    node3: Get:13 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [225 kB]
    node3: Get:14 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [7,864 B]
    node3: Get:15 http://security.ubuntu.com/ubuntu xenial-security/multiverse Translation-en [2,672 B]
    node3: Get:16 http://archive.ubuntu.com/ubuntu xenial/universe Translation-en [4,354 kB]
    node3: Get:17 http://archive.ubuntu.com/ubuntu xenial/multiverse amd64 Packages [144 kB]
    node3: Get:18 http://archive.ubuntu.com/ubuntu xenial/multiverse Translation-en [106 kB]
    node3: Get:19 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2,049 kB]
    node3: Get:20 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]
    node3: Get:21 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1,220 kB]
    node3: Get:22 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]
    node3: Get:23 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages [22.6 kB]
    node3: Get:24 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse Translation-en [8,476 B]
    node3: Get:25 http://archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [9,812 B]
    node3: Get:26 http://archive.ubuntu.com/ubuntu xenial-backports/main Translation-en [4,456 B]
    node3: Get:27 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [11.3 kB]
    node3: Get:28 http://archive.ubuntu.com/ubuntu xenial-backports/universe Translation-en [4,476 B]
    node3: Fetched 18.7 MB in 9s (1,980 kB/s)
    node3: Reading package lists...
    node3: Reading package lists...
    node3: Building dependency tree...
    node3: Reading state information...
    node3: The following additional packages will be installed:
    node3:   bridge-utils cgroupfs-mount conntrack containerd cri-tools ebtables pigz
    node3:   runc socat ubuntu-fan
    node3: Suggested packages:
    node3:   mountall aufs-tools debootstrap docker-doc rinse zfs-fuse | zfsutils
    node3: The following NEW packages will be installed:
    node3:   bridge-utils cgroupfs-mount conntrack containerd cri-tools docker.io
    node3:   ebtables kubeadm kubectl kubelet kubernetes-cni pigz runc socat ubuntu-fan
    node3: 0 upgraded, 15 newly installed, 0 to remove and 1 not upgraded.
    node3: Need to get 135 MB of archives.
    node3: After this operation, 590 MB of additional disk space will be used.
    node3: Get:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 pigz amd64 2.3.1-2 [61.1 kB]
    node3: Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 cri-tools amd64 1.25.0-00 [17.9 MB]
    node3: Get:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 bridge-utils amd64 1.5-9ubuntu1 [28.6 kB]
    node3: Get:6 http://archive.ubuntu.com/ubuntu xenial/universe amd64 cgroupfs-mount all 1.2 [4,970 B]
    node3: Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 conntrack amd64 1:1.4.3-3 [27.3 kB]
    node3: Get:8 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 runc amd64 1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4 [1,890 kB]
    node3: Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 containerd amd64 1.2.6-0ubuntu1~16.04.6+esm1 [19.8 MB]
    node3: Get:3 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubernetes-cni amd64 1.1.1-00 [25.0 MB]
    node3: Get:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 docker.io amd64 18.09.7-0ubuntu1~16.04.7 [30.5 MB]
    node3: Get:4 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubelet amd64 1.25.5-00 [19.5 MB]
    node3: Get:9 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]
    node3: Get:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ebtables amd64 2.0.10.4-3.4ubuntu2.16.04.2 [79.9 kB]
    node3: Get:14 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]
    node3: Get:15 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ubuntu-fan all 0.12.8~16.04.3 [35.1 kB]
    node3: Get:10 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubeadm amd64 1.26.0-00 [9,730 kB]
    node3: dpkg-preconfigure: unable to re-open stdin: No such file or directory
    node3: Fetched 135 MB in 15s (8,543 kB/s)
    node3: Selecting previously unselected package pigz.
(Reading database ... 54424 files and directories currently installed.)
    node3: Preparing to unpack .../pigz_2.3.1-2_amd64.deb ...
    node3: Unpacking pigz (2.3.1-2) ...
    node3: Selecting previously unselected package bridge-utils.
    node3: Preparing to unpack .../bridge-utils_1.5-9ubuntu1_amd64.deb ...
    node3: Unpacking bridge-utils (1.5-9ubuntu1) ...
    node3: Selecting previously unselected package cgroupfs-mount.
    node3: Preparing to unpack .../cgroupfs-mount_1.2_all.deb ...
    node3: Unpacking cgroupfs-mount (1.2) ...
    node3: Selecting previously unselected package conntrack.
    node3: Preparing to unpack .../conntrack_1%3a1.4.3-3_amd64.deb ...
    node3: Unpacking conntrack (1:1.4.3-3) ...
    node3: Selecting previously unselected package runc.
    node3: Preparing to unpack .../runc_1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4_amd64.deb ...
    node3: Unpacking runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node3: Selecting previously unselected package containerd.
    node3: Preparing to unpack .../containerd_1.2.6-0ubuntu1~16.04.6+esm1_amd64.deb ...
    node3: Unpacking containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node3: Selecting previously unselected package cri-tools.
    node3: Preparing to unpack .../cri-tools_1.25.0-00_amd64.deb ...
    node3: Unpacking cri-tools (1.25.0-00) ...
    node3: Selecting previously unselected package docker.io.
    node3: Preparing to unpack .../docker.io_18.09.7-0ubuntu1~16.04.7_amd64.deb ...
    node3: Unpacking docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node3: Selecting previously unselected package ebtables.
    node3: Preparing to unpack .../ebtables_2.0.10.4-3.4ubuntu2.16.04.2_amd64.deb ...
    node3: Unpacking ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node3: Selecting previously unselected package kubernetes-cni.
    node3: Preparing to unpack .../kubernetes-cni_1.1.1-00_amd64.deb ...
    node3: Unpacking kubernetes-cni (1.1.1-00) ...
    node3: Selecting previously unselected package socat.
    node3: Preparing to unpack .../socat_1.7.3.1-1_amd64.deb ...
    node3: Unpacking socat (1.7.3.1-1) ...
    node3: Selecting previously unselected package kubelet.
    node3: Preparing to unpack .../kubelet_1.25.5-00_amd64.deb ...
    node3: Unpacking kubelet (1.25.5-00) ...
    node3: Selecting previously unselected package kubectl.
    node3: Preparing to unpack .../kubectl_1.26.0-00_amd64.deb ...
    node3: Unpacking kubectl (1.26.0-00) ...
    node3: Selecting previously unselected package kubeadm.
    node3: Preparing to unpack .../kubeadm_1.26.0-00_amd64.deb ...
    node3: Unpacking kubeadm (1.26.0-00) ...
    node3: Selecting previously unselected package ubuntu-fan.
    node3: Preparing to unpack .../ubuntu-fan_0.12.8~16.04.3_all.deb ...
    node3: Unpacking ubuntu-fan (0.12.8~16.04.3) ...
    node3: Processing triggers for man-db (2.7.5-1) ...
    node3: Processing triggers for ureadahead (0.100.0-19.1) ...
    node3: Processing triggers for systemd (229-4ubuntu21.31) ...
    node3: Setting up pigz (2.3.1-2) ...
    node3: Setting up bridge-utils (1.5-9ubuntu1) ...
    node3: Setting up cgroupfs-mount (1.2) ...
    node3: Setting up conntrack (1:1.4.3-3) ...
    node3: Setting up runc (1.0.0~rc7+git20190403.029124da-0ubuntu1~16.04.4) ...
    node3: Setting up containerd (1.2.6-0ubuntu1~16.04.6+esm1) ...
    node3: Setting up cri-tools (1.25.0-00) ...
    node3: Setting up docker.io (18.09.7-0ubuntu1~16.04.7) ...
    node3: Adding group `docker' (GID 117) ...
    node3: Done.
    node3: Setting up ebtables (2.0.10.4-3.4ubuntu2.16.04.2) ...
    node3: update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
    node3: Setting up kubernetes-cni (1.1.1-00) ...
    node3: Setting up socat (1.7.3.1-1) ...
    node3: Setting up kubelet (1.25.5-00) ...
    node3: Setting up kubectl (1.26.0-00) ...
    node3: Setting up kubeadm (1.26.0-00) ...
    node3: Setting up ubuntu-fan (0.12.8~16.04.3) ...
    node3: Processing triggers for ureadahead (0.100.0-19.1) ...
    node3: Processing triggers for systemd (229-4ubuntu21.31) ...
    node3: Synchronizing state of docker.service with SysV init with /lib/systemd/systemd-sysv-install...
    node3: Executing /lib/systemd/systemd-sysv-install enable docker
    node3: WARNING: No swap limit support
==> node3: Running provisioner: shell...
    node3: Running: inline script
    node3: W0108 08:50:17.472460    5243 preflight.go:56] [reset] WARNING: Changes made to this host by 'kubeadm init' or 'kubeadm join' will be reverted.
    node3: error execution phase preflight: won't proceed; the user didn't answer (Y|y) in order to continue
    node3: To see the stack trace of this error execute with --v=5 or higher
    node3: [reset] Are you sure you want to proceed? [y/N]: [preflight] Running pre-flight checks
    node3: [preflight] Reading configuration from the cluster...
    node3: [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
    node3: [kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
    node3: [kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
    node3: [kubelet-start] Starting the kubelet
    node3: [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...
    node3: 
    node3: This node has joined the cluster:
    node3: * Certificate signing request was sent to apiserver and a response was received.
    node3: * The Kubelet was informed of the new secure connection details.
    node3: 
    node3: Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
    node3: 
bash-5.2$ vagrant master ssh
Usage: vagrant [options] <command> [<args>]

    -h, --help                       Print this help.

Common commands:
     autocomplete    manages autocomplete installation on host
     box             manages boxes: installation, removal, etc.
     cloud           manages everything related to Vagrant Cloud
     destroy         stops and deletes all traces of the vagrant machine
     global-status   outputs status Vagrant environments for this user
     halt            stops the vagrant machine
     help            shows the help for a subcommand
     hostmanager     plugin: vagrant-hostmanager: manages the /etc/hosts file within a multi-machine environment
     init            initializes a new Vagrant environment by creating a Vagrantfile
     login           
     package         packages a running vagrant environment into a box
     plugin          manages plugins: install, uninstall, update, etc.
     port            displays information about guest port mappings
     powershell      connects to machine via powershell remoting
     provision       provisions the vagrant machine
     push            deploys code in this environment to a configured destination
     rdp             connects to machine via RDP
     reload          restarts vagrant machine, loads new Vagrantfile configuration
     resume          resume a suspended vagrant machine
     serve           start Vagrant server
     snapshot        manages snapshots: saving, restoring, etc.
     ssh             connects to machine via SSH
     ssh-config      outputs OpenSSH valid configuration to connect to the machine
     status          outputs status of the vagrant machine
     suspend         suspends the machine
     up              starts and provisions the vagrant environment
     upload          upload to machine via communicator
     validate        validates the Vagrantfile
     version         prints current and latest Vagrant version
     winrm           executes commands on a machine via WinRM
     winrm-config    outputs WinRM configuration to connect to the machine

For help on any individual command run `vagrant COMMAND -h`

Additional subcommands are available, but are either more advanced
or not commonly used. To see all subcommands, run the command
`vagrant list-commands`.
        --[no-]color                 Enable or disable color output
        --machine-readable           Enable machine readable output
    -v, --version                    Display Vagrant version
        --debug                      Enable debug output
        --timestamp                  Enable timestamps on log output
        --debug-timestamp            Enable debug output with timestamps
        --no-tty                     Enable non-interactive output

bash-5.2$ sudo su -
Password:
swarnavs-MacBook-Air:~ root# exit
logout
bash-5.2$ vagrant ssh master
Welcome to Ubuntu 16.04.7 LTS (GNU/Linux 4.4.0-210-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

UA Infra: Extended Security Maintenance (ESM) is not enabled.

1 update can be applied immediately.
To see these additional updates run: apt list --upgradable

158 additional security updates can be applied with UA Infra: ESM
Learn more about enabling UA Infra: ESM service for Ubuntu 16.04 at
https://ubuntu.com/16-04

New release '18.04.6 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


_____________________________________________________________________
WARNING! Your environment specifies an invalid locale.
 The unknown environment variables are:
   LC_CTYPE=UTF-8 LC_ALL=
 This can affect your user experience significantly, including the
 ability to manage packages. You may install the locales by running:

   sudo apt-get install language-pack-UTF-8
     or
   sudo locale-gen UTF-8

To see all available language packs, run:
   apt-cache search "^language-pack-[a-z][a-z]$"
To disable this message for all users, run:
   sudo touch /var/lib/cloud/instance/locale-check.skip
_____________________________________________________________________

vagrant@master:~$ hostname
master
vagrant@master:~$ sudo su -
root@master:~# kubectl get nodes
NAME     STATUS   ROLES           AGE     VERSION
master   Ready    control-plane   9m30s   v1.25.5
node1    Ready    <none>          7m1s    v1.25.5
node2    Ready    <none>          4m15s   v1.25.5
node3    Ready    <none>          84s     v1.25.5
root@master:~# exit
logout
vagrant@master:~$ exit
logout
Connection to 127.0.0.1 closed.
bash-5.2$ vagrant status
Current machine states:

master                    running (virtualbox)
node1                     running (virtualbox)
node2                     running (virtualbox)
node3                     running (virtualbox)

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
bash-5.2$ vagrant halt
==> node3: Attempting graceful shutdown of VM...
==> node2: Attempting graceful shutdown of VM...
==> node1: Attempting graceful shutdown of VM...
==> master: Attempting graceful shutdown of VM...
bash-5.2$ vagrant status
Current machine states:

master                    poweroff (virtualbox)
node1                     poweroff (virtualbox)
node2                     poweroff (virtualbox)
node3                     poweroff (virtualbox)

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
bash-5.2$ 
